{"version":3,"sources":["webpack:///src/app/components/products/product-details/product-details.component.ts","webpack:///src/app/components/products/product-details/product-details.component.html","webpack:///src/app/components/products/products.module.ts","webpack:///src/app/components/products/products-routing.module.ts","webpack:///src/app/components/products/list-products/list-products.component.ts","webpack:///src/app/components/products/list-products/list-products.component.html"],"names":["ProductDetailsComponent","formBuilder","productService","ngbActiveModal","categoryService","messageService","regex","submitted","editor","editorConfig","extraPlugins","modalFile","typeFile","IMAGE","multiBoolen","enityType","PRODUCT","ui","getEditableElement","parentElement","insertBefore","view","toolbar","element","changes","productsForm","controls","get","then","res","hasError","categories","data","results","filter","r","isDeleted","er","alert","error","message","JSON","stringify","ERROR","invalid","product","name","value","description","contentHTML","imageUrl","price","categoryName","it","id","category","categoryId","displayOrder","hasDisplayHomePage","isFeatured","item","files","listFile","save","notification","SUCCESS","close","group","required","minLength","maxLength","pattern","min","max","modalHeader","title","modalFooter","event","dismiss","fetchCategory","loadItem","fileURL","split","forEach","push","add","remove","e","i","includes","splice","removeAll","setValue","join","onChangeData","onReady","selector","templateUrl","styleUrls","providers","ProductModule","declarations","imports","routes","path","children","component","breadcrumb","ProductRoutingModule","forChild","exports","ListProductsComponent","modalService","params","closeResult","settings","mode","actions","position","columns","type","renderComponent","pageIndex","fetch","confirm","isConfirmed","modalRef","open","size","componentInstance","result","reason","getDismissReason","products","ESC","BACKDROP_CLICK","openPopup"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA,c,CAmBA;;;;;AC0B0B;;AAMG;;AAAQ;;;;;;AAEX;;AAKG;;AAAkB;;;;;;AAErB;;AAKG;;AAAiB;;;;;;AA0BpB;;AAOG;;AAAQ;;;;;;AAEX;;AAOG;;AAAkB;;;;;;AAwBrB;;AAOG;;AAAQ;;;;;;AAEX;;AAGG;;AAAiC;;;;;;AAEpC;;AAGG;;AAAiC;;;;;;AAsBpC;;AAOG;;AAAQ;;;;;;AAiBX;;AAIE;;AACF;;;;;;AAHE;;AAEA;;AAAA;;;;;;AAIF;;AAOG;;AAAQ;;;;;;AA2DX;;AAOG;;AAAQ;;;;;;;;;;UDtPxBA,uB;AA2BX,yCACUC,WADV,EAEUC,cAFV,EAGUC,cAHV,EAIUC,eAJV,EAKUC,cALV,EAKwC;AAAA;;AAJ9B,eAAAJ,WAAA,GAAAA,WAAA;AACA,eAAAC,cAAA,GAAAA,cAAA;AACA,eAAAC,cAAA,GAAAA,cAAA;AACA,eAAAC,eAAA,GAAAA,eAAA;AACA,eAAAC,cAAA,GAAAA,cAAA;AAzBH,eAAAC,KAAA,GACL,gKADK;AAIP,eAAAC,SAAA,GAAY,KAAZ;AAEO,eAAAC,MAAA,GAAS,+EAAT;AACA,eAAAC,YAAA,GAAe;AACpBC,wBAAY,EAAE,CAAC,yEAAD;AADM,WAAf;AAoBL,eAAKC,SAAL,GAAiB,IAAI,6FAAJ,EAAjB;AACA,eAAKA,SAAL,CAAeC,QAAf,GAA0B,6FAASC,KAAnC;AACA,eAAKF,SAAL,CAAeG,WAAf,GAA6B,IAA7B;AACA,eAAKH,SAAL,CAAeI,SAAf,GAA2B,+FAAWC,OAAtC;AACD;;;;iBArBM,iBAAQR,MAAR,EAAgB;AACrBA,kBAAM,CAACS,EAAP,CACGC,kBADH,GAEGC,aAFH,CAEiBC,YAFjB,CAGIZ,MAAM,CAACS,EAAP,CAAUI,IAAV,CAAeC,OAAf,CAAuBC,OAH3B,EAIIf,MAAM,CAACS,EAAP,CAAUC,kBAAV,EAJJ;AAMD;;;iBAED,qBAAYM,OAAZ,EAAkC,CAAU;;;eAc5C,eAA0B;AACxB,mBAAO,KAAKC,YAAL,CAAkBC,QAAzB;AACD;;;iBAED,yBAAgB;AAAA;;AACd,iBAAKtB,eAAL,CACGuB,GADH,CACO,IADP,EAEGC,IAFH,CAEQ,UAACC,GAAD,EAAkD;AACtD,kBAAI,CAACA,GAAG,CAACC,QAAT,EAAmB;AACjB,qBAAI,CAACC,UAAL,GAAkBF,GAAG,CAACG,IAAJ,CAASC,OAAT,CAAiBC,MAAjB,CAChB,UAACC,CAAD;AAAA,yBAAOA,CAAC,CAACC,SAAF,IAAe,KAAtB;AAAA,iBADgB,CAAlB;AAGD;AACF,aARH,WASS,UAACC,EAAD,EAAQ;;;AACb,mBAAI,CAAChC,cAAL,CAAoBiC,KAApB,CAA0B,CAAD,WACvBD,EAAE,CAACE,KAAH,CAASC,OADc,MACP,IADO,IACP,aADO,GACP,EADO,GAErBC,IAAI,CAACC,SAAL,CAAeL,EAAE,CAACE,KAAH,CAASA,KAAxB,CAFsB,MAEQ,IAFR,IAEQ,aAFR,GAEQ,EAFR,GAGtB,qBAHJ,EAIE,2EAAmBI,KAJrB,EADa,CAOb;AACA;AACA;;AACD,aAnBH;AAoBD;;;iBACD,gBAAO;AAAA;;AACL,gBAAI,KAAKlB,YAAL,CAAkBmB,OAAtB,EAA+B;AAC7B,mBAAKvC,cAAL,CAAoBiC,KAApB,CACE,gDADF,EAEE,2EAAmBK,KAFrB;AAIA,mBAAKpC,SAAL,GAAiB,IAAjB;AACA;AACD;;AACD,iBAAKA,SAAL,GAAiB,IAAjB;AACA,iBAAKsC,OAAL,GAAe;AACbC,kBAAI,EAAE,KAAKrB,YAAL,CAAkBsB,KAAlB,CAAwBD,IADjB;AAEbE,yBAAW,EAAE,KAAKvB,YAAL,CAAkBsB,KAAlB,CAAwBC,WAFxB;AAGbC,yBAAW,EAAE,KAAKxB,YAAL,CAAkBsB,KAAlB,CAAwBE,WAHxB;AAIbC,sBAAQ,EAAE,KAAKzB,YAAL,CAAkBsB,KAAlB,CAAwBG,QAJrB;AAKbC,mBAAK,EAAE,KAAK1B,YAAL,CAAkBsB,KAAlB,CAAwBI,KALlB;AAMbC,0BAAY,EAAE,KAAKrB,UAAL,CAAgBG,MAAhB,CACZ,UAACmB,EAAD;AAAA,uBAAQA,EAAE,CAACC,EAAH,IAAS,MAAI,CAAC7B,YAAL,CAAkBsB,KAAlB,CAAwBQ,QAAzC;AAAA,eADY,EAEZ,CAFY,EAETT,IARQ;AASbU,wBAAU,EAAE,KAAK/B,YAAL,CAAkBsB,KAAlB,CAAwBQ,QATvB;AAUbE,0BAAY,EAAE,KAAKhC,YAAL,CAAkBsB,KAAlB,CAAwBU,YAVzB;AAWbC,gCAAkB,EAAE,KAAKjC,YAAL,CAAkBsB,KAAlB,CAAwBW,kBAX/B;AAYbC,wBAAU,EAAE,KAAKlC,YAAL,CAAkBsB,KAAlB,CAAwBY,UAZvB;AAabL,gBAAE,EAAE,KAAKM,IAAL,GAAY,KAAKA,IAAL,CAAUN,EAAtB,GAA2B,EAblB;AAcbO,mBAAK,EAAE,KAAKlD,SAAL,CAAemD;AAdT,aAAf;AAiBA,mBAAO,KAAK5D,cAAL,CACJ6D,IADI,CACC,KAAKlB,OADN,EAEJjB,IAFI,CAEC,YAAM;AACV,oBAAI,CAACvB,cAAL,CAAoB2D,YAApB,CACE,MAAI,CAACJ,IAAL,GAAY,0BAAZ,GAAyC,0BAD3C,EAEE,2EAAmBK,OAFrB;;AAIA,oBAAI,CAAC9D,cAAL,CAAoB+D,KAApB;AACD,aARI,WASE,UAAC7B,EAAD,EAAQ;;;AACb,oBAAI,CAAChC,cAAL,CAAoBiC,KAApB,CAA0B,CAAD,WACvBD,EAAE,CAACE,KAAH,CAASC,OADc,MACP,IADO,IACP,aADO,GACP,EADO,GAErBC,IAAI,CAACC,SAAL,CAAeL,EAAE,CAACE,KAAH,CAASA,KAAxB,CAFsB,MAEQ,IAFR,IAEQ,aAFR,GAEQ,EAFR,GAGtB,qBAHJ,EAIE,2EAAmBI,KAJrB;AAMD,aAhBI,CAAP;AAiBD;;;iBAED,oBAAW;AACT,iBAAKlB,YAAL,GAAoB,KAAKxB,WAAL,CAAiBkE,KAAjB,CAAuB;AACzCrB,kBAAI,EAAE,CACJ,KAAKc,IAAL,GAAY,KAAKA,IAAL,CAAUd,IAAtB,GAA6B,EADzB,EAEJ,CACE,0DAAWsB,QADb,EAEE,0DAAWC,SAAX,CAAqB,CAArB,CAFF,EAGE,0DAAWC,SAAX,CAAqB,EAArB,CAHF,EAIE,0DAAWC,OAAX,CAAmB,KAAKjE,KAAxB,CAJF,CAFI,CADmC;AAUzC0C,yBAAW,EAAE,CACX,KAAKY,IAAL,GAAY,KAAKA,IAAL,CAAUZ,WAAtB,GAAoC,EADzB,EAEX,CACE,0DAAWoB,QADb,EAEE,0DAAWE,SAAX,CAAqB,GAArB,CAFF,EAGE,0DAAWC,OAAX,CAAmB,KAAKjE,KAAxB,CAHF,CAFW,CAV4B;AAkBzC2C,yBAAW,EAAE,CAAC,KAAKW,IAAL,GAAY,KAAKA,IAAL,CAAUX,WAAtB,GAAoC,EAArC,CAlB4B;AAmBzCC,sBAAQ,EAAE,CAAC,KAAKU,IAAL,GAAY,KAAKA,IAAL,CAAUV,QAAtB,GAAiC,EAAlC,EACP,CAAC,0DAAWkB,QAAZ,CADO,CAnB+B;AAsBzCjB,mBAAK,EAAE,CACL,KAAKS,IAAL,GAAY,KAAKA,IAAL,CAAUT,KAAtB,GAA8B,KAAKS,IAD9B,EAEL,CACE,0DAAWQ,QADb,EAEE,0DAAWI,GAAX,CAAe,CAAf,CAFF,EAGE,0DAAWC,GAAX,CAAe,OAAf,CAHF,EAIE,0DAAWF,OAAX,CAAmB,QAAnB,CAJF,CAFK,CAtBkC;AA+BzChB,sBAAQ,EAAE,CAAC,KAAKK,IAAL,GAAY,KAAKA,IAAL,CAAUJ,UAAtB,GAAmC,EAApC,EAAwC,CAAC,0DAAWY,QAAZ,CAAxC,CA/B+B;AAgCzCX,0BAAY,EAAE,CACZ,KAAKG,IAAL,GAAY,KAAKA,IAAL,CAAUH,YAAtB,GAAqC,CADzB,EAEZ,CACE,0DAAWW,QADb,EAEE,0DAAWK,GAAX,CAAe,OAAf,CAFF,EAGE,0DAAWF,OAAX,CAAmB,QAAnB,CAHF,CAFY,CAhC2B;AAwCzCb,gCAAkB,EAAE,CAAC,KAAKE,IAAL,GAAY,KAAKA,IAAL,CAAUF,kBAAtB,GAA2C,KAA5C,CAxCqB;AAyCzCC,wBAAU,EAAE,CAAC,KAAKC,IAAL,GAAY,KAAKA,IAAL,CAAUD,UAAtB,GAAmC,KAApC;AAzC6B,aAAvB,CAApB;AA4CA,iBAAKe,WAAL,GAAmB,IAAI,oGAAJ,EAAnB;AACA,iBAAKA,WAAL,CAAiBC,KAAjB,GAAyB,KAAKf,IAAL,oBACX,KAAKA,IAAL,CAAUd,IADC,qBAAzB;AAGA,iBAAK8B,WAAL,GAAmB,IAAI,oGAAJ,EAAnB;AACA,iBAAKA,WAAL,CAAiBD,KAAjB,GAAyB,MAAzB;AACD;;;iBAED,eAAME,KAAN,EAAkB;AAChB,iBAAK1E,cAAL,CAAoB2E,OAApB;AACD;;;iBAED,oBAAW;AAAA;;AACT,iBAAKC,aAAL;AACA,iBAAKC,QAAL;;AACA,gBAAI,KAAKpB,IAAT,EAAe;AACb,mBAAKqB,OAAL,GAAe,EAAf;AACA,mBAAKrB,IAAL,CAAUV,QAAV,CAAmBgC,KAAnB,CAAyB,GAAzB,EAA8BC,OAA9B,CAAsC,UAAC9B,EAAD,EAAQ;AAC5C,sBAAI,CAAC4B,OAAL,CAAaG,IAAb,CAAkB/B,EAAlB;AACD,eAFD;AAGD;AACF;;;iBACD,sBAAawB,KAAb,EAA2E;AAAA;;AACzE,gBAAIA,KAAK,IAAI,IAAb,EAAmB;AACjB;AACD;;AAED,gBAAI,CAAC,KAAKI,OAAV,EAAmB;AACjB,mBAAKA,OAAL,GAAe,EAAf;AACD;;AAED,gBAAIJ,KAAK,CAACQ,GAAV,EAAe;AACb,mBAAKJ,OAAL,gCAAmB,KAAKA,OAAxB,sBAAoCJ,KAAK,CAACQ,GAA1C;AACD;;AAED,gBAAIR,KAAK,CAACS,MAAV,EAAkB;AAChB,mBAAKL,OAAL,CAAaE,OAAb,CAAqB,UAACI,CAAD,EAAYC,CAAZ,EAAkB;AACrC,oBAAID,CAAC,CAACE,QAAF,CAAWZ,KAAK,CAACS,MAAjB,CAAJ,EAA8B;AAC5B,wBAAI,CAACL,OAAL,CAAaS,MAAb,CAAoBF,CAApB,EAAuB,CAAvB;AACD;AACF,eAJD;AAKD;;AAED,gBAAIX,KAAK,CAACc,SAAV,EAAqB;AACnB,mBAAKV,OAAL,GAAe,EAAf;AACD;;AAED,iBAAKxD,YAAL,CAAkBC,QAAlB,CAA2BwB,QAA3B,CAAoC0C,QAApC,CAA6C,KAAKX,OAAL,CAAaY,IAAb,CAAkB,GAAlB,CAA7C;AACD;;;;;;;yBA7MU7F,uB,EAAuB,2H,EAAA,kK,EAAA,0I,EAAA,sK,EAAA,kK;AAAA,O;;;cAAvBA,uB;AAAuB,4C;AAAA,oFAFvB,CAAC,iGAAD,EAAiB,qGAAjB,CAEuB,GAFU,kEAEV,C;AAFU,iB;AAAA,gB;AAAA,o3E;AAAA;AAAA;AC3B9C;;AAEE;AAAA,qBAAY,IAAAkE,KAAA,QAAZ;AAAyB,aAAzB;;AACD;;AAED;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AAME;;AAKE;;AACE;;AACE;;AACE;;AACG;;AAAM;;AAAC;;AAAQ;;AAAI;;AAEtB;;AAeA;;AACE;;AAQA;;AAOA;;AAOF;;AACF;;AACA;;AACE;;AACG;;AAAM;;AAAC;;AAAQ;;AAAe;;AAEjC;;AAiBA;;AACE;;AASA;;AASF;;AACF;;AACA;;AACE;;AACG;;AAAM;;AAAC;;AAAQ;;AAAK;;AAEvB;;AAeA;;AACE;;AASA;;AAKA;;AAKF;;AACF;;AACA;;AACE;;AACG;;AAAM;;AAAC;;AAAQ;;AAAa;;AAE/B;;AAaA;;AACE;;AASF;;AACF;;AACA;;AACE;;AACG;;AAAM;;AAAC;;AAAQ;;AAAa;;AAE/B;;AASE;;AAMF;;AACA;;AACE;;AASF;;AACF;;AACA;;AACE;;AAIE;;AAAiB;;AAEnB;;AAMF;;AACA;;AACE;;AAIE;;AAAW;;AAEb;;AAMF;;AACF;;AACA;;AACE;;AACE;;AAeA;;AAKE;AAAA,qBAAY,IAAA4B,YAAA,QAAZ;AAAgC,aAAhC;;AAEF;;AACA;;AACE;;AASF;;AACF;;AACF;;AACF;;AACA;;AACE;;AACE;;AAAW;;AAEb;;AAOE;AAAA,qBAAS,IAAAC,OAAA,QAAT;AAAwB,aAAxB;;AACD;;AACH;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AAGA;;AAAuC;AAAA,qBAAY,IAAAhC,IAAA,EAAZ;AAAkB,aAAlB;;AAAqB;;;;AAjT1D;;AAkBgB;;AAAA;;AAgBQ;;AAAA;;AAYG;;AAAA;;AAQA;;AAAA;;AAOA;;AAAA;;AAiBH;;AAAA;;AAcG;;AAAA;;AASA;;AAAA;;AAmBH;;AAAA;;AAYG;;AAAA;;AASA;;AAAA;;AAKA;;AAAA;;AAeH;;AAAA;;AAUG;;AAAA;;AAeH;;AAAA;;AAQuB;;AAAA;;AASpB;;AAAA;;AA8CH;;AAAA;;AAWA;;AAAA,4FAAkB,SAAlB,EAAkB,WAAlB;;AASG;;AAAA;;AAgBP;;AAAA,2FAAiB,QAAjB,EAAiB,gBAAjB;;AAoBJ;;AAAA;;;;;;;;;wEDrRL/D,uB,EAAuB;gBANnC,uDAMmC;iBANzB;AACTgG,oBAAQ,EAAE,qBADD;AAETC,uBAAW,EAAE,kCAFJ;AAGTC,qBAAS,EAAE,CAAC,kCAAD,CAHF;AAITC,qBAAS,EAAE,CAAC,iGAAD,EAAiB,qGAAjB;AAJF,W;AAMyB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AE7BpC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAwBeC,a;;;;;cAAAA;;;;2BAAAA,a;AAAa,S;AAAA,kBAXf,CACP,4DADO,EAEP,6EAFO,EAGP,kEAHO,EAIP,oEAJO,EAKP,yEALO,EAMP,yEANO,EAOP,mEAPO,EAQP,0EARO,CAWe;;;;4HAAbA,a,EAAa;AAAA,yBAZT,4FAYS,EAZc,kGAYd;AAZqC,oBAE3D,4DAF2D,EAG3D,6EAH2D,EAI3D,kEAJ2D,EAK3D,oEAL2D,EAM3D,yEAN2D,EAO3D,yEAP2D,EAQ3D,mEAR2D,EAS3D,0EAT2D;AAYrC,S;AAHR,O;;;;;wEAGLA,a,EAAa;gBAb3B,sDAa2B;iBAblB;AACNC,wBAAY,EAAE,CAAC,4FAAD,EAAwB,kGAAxB,CADR;AAENC,mBAAO,EAAE,CACP,4DADO,EAEP,6EAFO,EAGP,kEAHO,EAIP,oEAJO,EAKP,yEALO,EAMP,yEANO,EAOP,mEAPO,EAQP,0EARO;AAFH,W;AAakB,U;;;;;;;;;;;;;;;;;;ACxB5B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAKA,UAAMC,MAAM,GAAW,CACnB;AACEC,YAAI,EAAE,EADR;AAEEC,gBAAQ,EAAE,CACR;AACED,cAAI,EAAE,eADR;AAEEE,mBAAS,EAAE,4FAFb;AAGE1E,cAAI,EAAE;AACJ2C,iBAAK,EAAE,cADH;AAEJgC,sBAAU,EAAE;AAFR;AAHR,SADQ;AAFZ,OADmB,CAAvB;;UAmBaC,oB;;;;;cAAAA;;;;2BAAAA,oB;AAAoB,S;AAAA,kBAHpB,CAAC,6DAAaC,QAAb,CAAsBN,MAAtB,CAAD,CAGoB,EAFnB,4DAEmB;;;;4HAApBK,oB,EAAoB;AAAA;AAAA,oBAFnB,4DAEmB;AAAA,S;AAFP,O;;;;;wEAEbA,oB,EAAoB;gBAJhC,sDAIgC;iBAJvB;AACNN,mBAAO,EAAE,CAAC,6DAAaO,QAAb,CAAsBN,MAAtB,CAAD,CADH;AAENO,mBAAO,EAAE,CAAC,4DAAD;AAFH,W;AAIuB,U;;;;;;;;;;;;;;;;;;ACxBjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACkBM;;AAEE;AAAA;;AAAA;;AAAA;AAAA;;AACD;;;;;;AAFC;;;;UDEKC,qB;AAMX,uCACUC,YADV,EAEU9G,cAFV,EAGUG,cAHV,EAGwC;AAAA;;AAF9B,eAAA2G,YAAA,GAAAA,YAAA;AACA,eAAA9G,cAAA,GAAAA,cAAA;AACA,eAAAG,cAAA,GAAAA,cAAA;AANV,eAAA4G,MAAA,GAAc,EAAd;AACA,eAAAC,WAAA,GAAc,EAAd;AAWO,eAAAC,QAAA,GAAW;AAChBC,gBAAI,EAAE,UADU;AAEhBC,mBAAO,EAAE;AACPC,sBAAQ,EAAE;AADH,aAFO;AAKhBC,mBAAO,EAAE;AACPrE,sBAAQ,EAAE;AACRyB,qBAAK,EAAE,OADC;AAER6C,oBAAI,EAAE,QAFE;AAGRC,+BAAe,EAAE,sHAHT;AAIRvF,sBAAM,EAAE;AAJA,eADH;AAOPY,kBAAI,EAAE;AACJ6B,qBAAK,EAAE,MADH;AAEJ6C,oBAAI,EAAE,QAFF;AAGJC,+BAAe,EAAE;AAHb,eAPC;AAYPzE,yBAAW,EAAE;AACX2B,qBAAK,EAAE,iBADI;AAEXzC,sBAAM,EAAE;AAFG,eAZN;AAgBPkB,0BAAY,EAAE;AACZuB,qBAAK,EAAE,eADK;AAEZzC,sBAAM,EAAE;AAFI,eAhBP;AAoBPyB,wBAAU,EAAE;AACVgB,qBAAK,EAAE,aADG;AAEVzC,sBAAM,EAAE;AAFE,eApBL;AAwBPiB,mBAAK,EAAE;AACLqE,oBAAI,EAAE,QADD;AAEL7C,qBAAK,EAAE,OAFF;AAGL8C,+BAAe,EAAE,iJAHZ;AAILvF,sBAAM,EAAE;AAJH,eAxBA;AA8BPuB,0BAAY,EAAE;AACZkB,qBAAK,EAAE,eADK;AAEZ6C,oBAAI,EAAE,QAFM;AAGZC,+BAAe,EAAE,yHAHL;AAIZvF,sBAAM,EAAE;AAJI;AA9BP;AALO,WAAX;AAJL,eAAK+E,MAAL,CAAYS,SAAZ,GAAwB,CAAxB;AACA,eAAKC,KAAL;AACD;;;;iBA8CD,iBAAO9C,KAAP,EAAmB;AAAA;;AACjB,gBAAIhC,OAAO,GAAGgC,KAAK,CAAC7C,IAApB;AACA,iBAAK3B,cAAL,CACGuH,OADH,CACW,mCADX,EACgD,KADhD,EAEGhG,IAFH,CAEQ,UAACC,GAAD,EAAS;AACb,kBAAIA,GAAG,CAACgG,WAAR,EAAqB;AACnB,sBAAI,CAAC3H,cAAL,WACU2C,OADV,EAEGjB,IAFH,CAEQ,YAAM;AACV,wBAAI,CAACvB,cAAL,CAAoB2D,YAApB,CACE,mBADF,EAEE,2EAAmBC,OAFrB;;AAIA,wBAAI,CAAC0D,KAAL;AACD,iBARH,WASS,UAACtF,EAAD,EAAO;;;AACZ,+BAAI,CAAChC,cAAL,CAAoBiC,KAApB,CAA0B,CAAD,WACvBD,EAAE,CAACE,KAAH,CAASC,OADc,MACP,IADO,IACP,aADO,GACP,EADO,GAErBC,IAAI,CAACC,SAAL,CAAeL,EAAE,CAACE,KAAH,CAASA,KAAxB,CAFsB,MAEQ,IAFR,IAEQ,aAFR,GAEQ,EAFR,GAGtB,qBAHJ,EAIE,2EAAmBI,KAJrB;AAKC,iBAfL;AAiBD;AACF,aAtBH;AAuBD;;;iBAED,mBAAUiB,IAAV,EAAqB;AAAA;;AACnB,gBAAIkE,QAAQ,GAAG,KAAKd,YAAL,CAAkBe,IAAlB,CAAuB,kGAAvB,EAAgD;AAC7DC,kBAAI,EAAE;AADuD,aAAhD,CAAf;AAGAF,oBAAQ,CAACG,iBAAT,CAA2BrE,IAA3B,GAAkCA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,GAAI,MAAJ,GAAAA,IAAI,CAAE5B,IAAxC;AACA,mBAAO8F,QAAQ,CAACI,MAAT,CAAgBtG,IAAhB,CACL,YAAM;AACJ,oBAAI,CAAC+F,KAAL;AACD,aAHI,EAIL,UAACQ,MAAD,EAAY;AACV,oBAAI,CAACjB,WAAL,uBAAgC,MAAI,CAACkB,gBAAL,CAAsBD,MAAtB,CAAhC;AACD,aANI,CAAP;AAQD;;;iBAED,iBAAQ;AAAA;;AACN,iBAAKjI,cAAL,CACGyB,GADH,CACO;AAAEsF,oBAAM,EAAE,KAAKA;AAAf,aADP,EAEGrF,IAFH,CAEQ,UAACC,GAAD,EAAiD;AACrD,kBAAI,CAACA,GAAG,CAACC,QAAT,EAAmB;AACjB,sBAAI,CAACuG,QAAL,GAAgBxG,GAAG,CAACG,IAAJ,CAASC,OAAzB;AACA,sBAAI,CAACD,IAAL,GAAYH,GAAG,CAACG,IAAhB;AACD;AACF,aAPH,WAQS,UAACK,EAAD,EAAQ;;;AACb,oBAAI,CAAChC,cAAL,CAAoBiC,KAApB,CAA0B,CAAD,WACvBD,EAAE,CAACE,KAAH,CAASC,OADc,MACP,IADO,IACP,aADO,GACP,EADO,GAErBC,IAAI,CAACC,SAAL,CAAeL,EAAE,CAACE,KAAH,CAASA,KAAxB,CAFsB,MAEQ,IAFR,IAEQ,aAFR,GAEQ,EAFR,GAGtB,qBAHJ,EAIE,2EAAmBI,KAJrB,EADa,CAOb;AACA;AACA;;AACD,aAlBH;AAmBD;;;iBAEO,0BAAiBwF,MAAjB,EAA4B;AAClC,gBAAIA,MAAM,KAAK,+EAAoBG,GAAnC,EAAwC;AACtC,qBAAO,iBAAP;AACD,aAFD,MAEO,IAAIH,MAAM,KAAK,+EAAoBI,cAAnC,EAAmD;AACxD,qBAAO,2BAAP;AACD,aAFM,MAEA;AACL,qCAAgBJ,MAAhB;AACD;AACF;;;iBAED,oBAAW,CAAE;;;iBAEb,gBAAOtD,KAAP,EAAc;AACZ,iBAAKoC,MAAL,CAAYS,SAAZ,GAAwB7C,KAAxB;AACA,iBAAK8C,KAAL;AACD;;;;;;;yBA1IUZ,qB,EAAqB,oI,EAAA,kK,EAAA,kK;AAAA,O;;;cAArBA,qB;AAAqB,0C;AAAA,oFAFrB,CAAC,iGAAD,CAEqB,E;AAFL,iB;AAAA,e;AAAA,iU;AAAA;AAAA;ACnB7B;;AACE;;AACE;;AACE;;AAAI;;AAAe;;AACrB;;AACA;;AACE;;AACE;;AACE;;AAEE;AAAA,qBAAQ,IAAAyB,SAAA,QAAR;AAAyB,aAAzB,EAA0B,QAA1B,EAA0B;AAAA,qBAChB,IAAAA,SAAA,CAAU,IAAV,CADgB;AACD,aADzB,EAA0B,QAA1B,EAA0B;AAAA,qBAEhB,qBAFgB;AAEF,aAFxB,EAA0B,cAA1B,EAA0B;AAAA;AAAA,aAA1B;;AAID;;AACH;;AACF;;AAEA;;AAIF;;AACF;;AACF;;;;AAfY;;AAAA,+FAAqB,QAArB,EAAqB,YAArB;;AASmB;;AAAA;;;;;;;;;wEDGlBzB,qB,EAAqB;gBANjC,uDAMiC;iBANvB;AACTf,oBAAQ,EAAE,mBADD;AAETC,uBAAW,EAAE,gCAFJ;AAGTC,qBAAS,EAAE,CAAC,gCAAD,CAHF;AAITC,qBAAS,EAAE,CAAC,iGAAD;AAJF,W;AAMuB,U","file":"components-products-products-module-es5.js","sourcesContent":["import { Component, OnInit, SimpleChanges } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport {\r\n  PageModel,\r\n  ReturnMessage,\r\n  TypeSweetAlertIcon,\r\n} from 'src/app/lib/data/models';\r\nimport { CategoryModel } from 'src/app/lib/data/models/categories/category.model';\r\nimport { ProductModel } from 'src/app/lib/data/models/products/product.model';\r\nimport { CategoryService } from 'src/app/lib/data/services/categories/category.service';\r\nimport { ProductService } from 'src/app/lib/data/services/products/product.service';\r\nimport {\r\n  EntityType,\r\n  ModalFile,\r\n  ModalFooterModel,\r\n  ModalHeaderModel,\r\n  TypeFile,\r\n} from 'src/app/shared/components/modals/models/modal.model';\r\n// import * as DecoupledEditor from 'src/app/lib/customCkeditor/ckeditor5-build-decoupled-document';\r\nimport * as ClassicEditor from 'src/app/lib/customCkeditor/ckeditor5-build-classic';\r\nimport Base64UploaderPlugin from 'src/app/lib/@ckeditor/Base64Upload';\r\nimport { MessageService } from 'src/app/lib/data/services/messages/message.service';\r\n@Component({\r\n  selector: 'app-product-details',\r\n  templateUrl: './product-details.component.html',\r\n  styleUrls: ['./product-details.component.scss'],\r\n  providers: [ProductService, CategoryService],\r\n})\r\nexport class ProductDetailsComponent implements OnInit {\r\n  public productsForm: FormGroup;\r\n  public modalHeader: ModalHeaderModel;\r\n  public modalFooter: ModalFooterModel;\r\n  public product: ProductModel;\r\n  public categories: CategoryModel[];\r\n  public item: ProductModel;\r\n  public regex: string =\r\n    '^[a-z|A-Z|ÀÁÂÃÈÉÊÌÍÒÓÔÕÙÚĂĐĨŨƠàáâãèéêìíòóôõùúăđĩũơƯĂẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼỀỀỂẾưăạảấầẩẫậắằẳẵặẹẻẽềềểếỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪễệỉịọỏốồổỗộớờởỡợụủứừỬỮỰỲỴÝỶỸửữựỳỵỷỹ|0-9 ,-.]*$';\r\n  public modalFile: ModalFile;\r\n  public fileURL: (String | ArrayBuffer)[];\r\n  submitted = false;\r\n\r\n  public editor = ClassicEditor;\r\n  public editorConfig = {\r\n    extraPlugins: [Base64UploaderPlugin],\r\n  };\r\n  public onReady(editor) {\r\n    editor.ui\r\n      .getEditableElement()\r\n      .parentElement.insertBefore(\r\n        editor.ui.view.toolbar.element,\r\n        editor.ui.getEditableElement()\r\n      );\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {}\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private productService: ProductService,\r\n    private ngbActiveModal: NgbActiveModal,\r\n    private categoryService: CategoryService,\r\n    private messageService: MessageService\r\n  ) {\r\n    this.modalFile = new ModalFile();\r\n    this.modalFile.typeFile = TypeFile.IMAGE;\r\n    this.modalFile.multiBoolen = true;\r\n    this.modalFile.enityType = EntityType.PRODUCT;\r\n  }\r\n\r\n  get productFormsControl() {\r\n    return this.productsForm.controls;\r\n  }\r\n\r\n  fetchCategory() {\r\n    this.categoryService\r\n      .get(null)\r\n      .then((res: ReturnMessage<PageModel<CategoryModel>>) => {\r\n        if (!res.hasError) {\r\n          this.categories = res.data.results.filter(\r\n            (r) => r.isDeleted == false\r\n          );\r\n        }\r\n      })\r\n      .catch((er) => {\r\n        this.messageService.alert(\r\n          er.error.message ??\r\n            JSON.stringify(er.error.error) ??\r\n            'Server Disconnected',\r\n          TypeSweetAlertIcon.ERROR\r\n        );\r\n        // if (er.error.hasError) {\r\n        //   console.log(er.error.message);\r\n        // }\r\n      });\r\n  }\r\n  save() {\r\n    if (this.productsForm.invalid) {\r\n      this.messageService.alert(\r\n        'Invalid Form make sure you input valid value !',\r\n        TypeSweetAlertIcon.ERROR\r\n      );\r\n      this.submitted = true;\r\n      return;\r\n    }\r\n    this.submitted = true;\r\n    this.product = {\r\n      name: this.productsForm.value.name,\r\n      description: this.productsForm.value.description,\r\n      contentHTML: this.productsForm.value.contentHTML,\r\n      imageUrl: this.productsForm.value.imageUrl,\r\n      price: this.productsForm.value.price,\r\n      categoryName: this.categories.filter(\r\n        (it) => it.id == this.productsForm.value.category\r\n      )[0].name,\r\n      categoryId: this.productsForm.value.category,\r\n      displayOrder: this.productsForm.value.displayOrder,\r\n      hasDisplayHomePage: this.productsForm.value.hasDisplayHomePage,\r\n      isFeatured: this.productsForm.value.isFeatured,\r\n      id: this.item ? this.item.id : '',\r\n      files: this.modalFile.listFile,\r\n    };\r\n\r\n    return this.productService\r\n      .save(this.product)\r\n      .then(() => {\r\n        this.messageService.notification(\r\n          this.item ? 'Product has been updated' : 'Product has been created',\r\n          TypeSweetAlertIcon.SUCCESS\r\n        );\r\n        this.ngbActiveModal.close();\r\n      })\r\n      .catch((er) => {\r\n        this.messageService.alert(\r\n          er.error.message ??\r\n            JSON.stringify(er.error.error) ??\r\n            'Server Disconnected',\r\n          TypeSweetAlertIcon.ERROR\r\n        );\r\n      });\r\n  }\r\n\r\n  loadItem() {\r\n    this.productsForm = this.formBuilder.group({\r\n      name: [\r\n        this.item ? this.item.name : '',\r\n        [\r\n          Validators.required,\r\n          Validators.minLength(3),\r\n          Validators.maxLength(50),\r\n          Validators.pattern(this.regex),\r\n        ],\r\n      ],\r\n      description: [\r\n        this.item ? this.item.description : '',\r\n        [\r\n          Validators.required,\r\n          Validators.maxLength(300),\r\n          Validators.pattern(this.regex),\r\n        ],\r\n      ],\r\n      contentHTML: [this.item ? this.item.contentHTML : ''],\r\n      imageUrl: [this.item ? this.item.imageUrl : '',\r\n         [Validators.required],\r\n      ], \r\n      price: [\r\n        this.item ? this.item.price : this.item,\r\n        [\r\n          Validators.required,\r\n          Validators.min(1),\r\n          Validators.max(5000000),\r\n          Validators.pattern('[0-9]*'),\r\n        ],\r\n      ],\r\n      category: [this.item ? this.item.categoryId : '', [Validators.required]],\r\n      displayOrder: [\r\n        this.item ? this.item.displayOrder : 1,\r\n        [\r\n          Validators.required,\r\n          Validators.max(1000000),\r\n          Validators.pattern('[0-9]+'),\r\n        ],\r\n      ],\r\n      hasDisplayHomePage: [this.item ? this.item.hasDisplayHomePage : false],\r\n      isFeatured: [this.item ? this.item.isFeatured : false],\r\n    });\r\n\r\n    this.modalHeader = new ModalHeaderModel();\r\n    this.modalHeader.title = this.item\r\n      ? `Update ${this.item.name}`\r\n      : `Add New Product`;\r\n    this.modalFooter = new ModalFooterModel();\r\n    this.modalFooter.title = 'Save';\r\n  }\r\n\r\n  close(event: any) {\r\n    this.ngbActiveModal.dismiss();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.fetchCategory();\r\n    this.loadItem();\r\n    if (this.item) {\r\n      this.fileURL = [];\r\n      this.item.imageUrl.split(',').forEach((it) => {\r\n        this.fileURL.push(it);\r\n      });\r\n    }\r\n  }\r\n  onChangeData(event: { add: string[]; remove: string; removeAll: boolean }) {\r\n    if (event == null) {\r\n      return;\r\n    }\r\n\r\n    if (!this.fileURL) {\r\n      this.fileURL = [];\r\n    }\r\n\r\n    if (event.add) {\r\n      this.fileURL = [...this.fileURL, ...event.add];\r\n    }\r\n\r\n    if (event.remove) {\r\n      this.fileURL.forEach((e: string, i) => {\r\n        if (e.includes(event.remove)) {\r\n          this.fileURL.splice(i, 1);\r\n        }\r\n      });\r\n    }\r\n\r\n    if (event.removeAll) {\r\n      this.fileURL = [];\r\n    }\r\n\r\n    this.productsForm.controls.imageUrl.setValue(this.fileURL.join(','));\r\n  }\r\n}\r\n","<app-modal-header\r\n  [data]=\"modalHeader\"\r\n  (onAction)=\"close($event)\"\r\n></app-modal-header>\r\n<!-- Container-fluid starts-->\r\n<div class=\"container-fluid\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-12\">\r\n      <div class=\"card tab2-card\">\r\n        <div class=\"card-body\">\r\n          <div class=\"row\">\r\n            <div class=\"col-lg-12\">\r\n              <div\r\n                class=\"tab-pane fade active show\"\r\n                id=\"account\"\r\n                role=\"tabpanel\"\r\n                aria-labelledby=\"account-tab\"\r\n              >\r\n                <form\r\n                  [formGroup]=\"productsForm\"\r\n                  class=\"needs-validation user-add\"\r\n                  novalidate=\"\"\r\n                >\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-6\">\r\n                      <div class=\"form-group row\">\r\n                        <label for=\"validationCustom0\" class=\"col-xl-3 col-md-4\"\r\n                          ><span>*</span> Name</label\r\n                        >\r\n                        <input\r\n                          class=\"form-control col-xl-8 col-md-7\"\r\n                          id=\"validationCustom0\"\r\n                          type=\"text\"\r\n                          required=\"\"\r\n                          formControlName=\"name\"\r\n                          [ngClass]=\"{\r\n                            'is-invalid ':\r\n                              ((productFormsControl.name.touched ||\r\n                                submitted) &&\r\n                                productFormsControl.name.errors?.required) ||\r\n                              productFormsControl.name.hasError('maxlength') ||\r\n                              productFormsControl.name.hasError('minlength')\r\n                          }\"\r\n                        />\r\n                        <div class=\"invalid-feedback col-md-3 offset-md-3\">\r\n                          <span\r\n                            class=\"text-danger\"\r\n                            *ngIf=\"\r\n                              (productFormsControl.name.touched || submitted) &&\r\n                              productFormsControl.name.errors?.required\r\n                            \"\r\n                            >Required</span\r\n                          >\r\n                          <span\r\n                            class=\"text-danger\"\r\n                            *ngIf=\"\r\n                              productFormsControl.name.hasError('maxlength')\r\n                            \"\r\n                            >Max: 50 characters</span\r\n                          >\r\n                          <span\r\n                            class=\"text-danger\"\r\n                            *ngIf=\"\r\n                              productFormsControl.name.hasError('minlength')\r\n                            \"\r\n                            >Min: 3 characters</span\r\n                          >\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"form-group row\">\r\n                        <label for=\"validationCustom1\" class=\"col-xl-3 col-md-4\"\r\n                          ><span>*</span> Product Details</label\r\n                        >\r\n                        <input\r\n                          class=\"form-control col-xl-8 col-md-7\"\r\n                          id=\"validationCustom1\"\r\n                          type=\"text\"\r\n                          required=\"\"\r\n                          formControlName=\"description\"\r\n                          [ngClass]=\"{\r\n                            'is-invalid ':\r\n                              ((productFormsControl.description.touched ||\r\n                                submitted) &&\r\n                                productFormsControl.description.errors\r\n                                  ?.required) ||\r\n                              productFormsControl.description.hasError(\r\n                                'maxlength'\r\n                              )\r\n                          }\"\r\n                        />\r\n                        <div class=\"invalid-feedback col-md-3 offset-md-3\">\r\n                          <span\r\n                            class=\"text-danger\"\r\n                            *ngIf=\"\r\n                              (productFormsControl.description.touched ||\r\n                                submitted) &&\r\n                              productFormsControl.description.errors?.required\r\n                            \"\r\n                            >Required</span\r\n                          >\r\n                          <span\r\n                            class=\"text-danger\"\r\n                            *ngIf=\"\r\n                              productFormsControl.description.hasError(\r\n                                'maxlength'\r\n                              )\r\n                            \"\r\n                            >Max: 300 character</span\r\n                          >\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"form-group row\">\r\n                        <label for=\"validationCustom5\" class=\"col-xl-3 col-md-4\"\r\n                          ><span>*</span> Price</label\r\n                        >\r\n                        <input\r\n                          class=\"form-control col-xl-8 col-md-7\"\r\n                          id=\"validationCustom5\"\r\n                          type=\"number\"\r\n                          required=\"\"\r\n                          formControlName=\"price\"\r\n                          [ngClass]=\"{\r\n                            'is-invalid ':\r\n                              ((productFormsControl.price.touched ||\r\n                                submitted) &&\r\n                                productFormsControl.price.errors?.required) ||\r\n                              productFormsControl.price.errors?.max ||\r\n                              productFormsControl.price.errors?.min\r\n                          }\"\r\n                        />\r\n                        <div class=\"invalid-feedback col-md-3 offset-md-3\">\r\n                          <span\r\n                            class=\"text-danger\"\r\n                            *ngIf=\"\r\n                              (productFormsControl.price.touched ||\r\n                                submitted) &&\r\n                              productFormsControl.price.errors?.required\r\n                            \"\r\n                            >Required</span\r\n                          >\r\n                          <span\r\n                            class=\"text-danger\"\r\n                            *ngIf=\"productFormsControl.price.errors?.max\"\r\n                            >Value must in range (1 ~ 5000000)</span\r\n                          >\r\n                          <span\r\n                            class=\"text-danger\"\r\n                            *ngIf=\"productFormsControl.price.errors?.min\"\r\n                            >Value must in range (1 ~ 5000000)</span\r\n                          >\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"form-group row\">\r\n                        <label for=\"validationCustom7\" class=\"col-xl-3 col-md-4\"\r\n                          ><span>*</span> Display Order</label\r\n                        >\r\n                        <input\r\n                          class=\"form-control col-xl-8 col-md-7\"\r\n                          id=\"validationCustom7\"\r\n                          type=\"number\"\r\n                          required=\"\"\r\n                          formControlName=\"displayOrder\"\r\n                          [ngClass]=\"{\r\n                            'is-invalid ':\r\n                              (productFormsControl.displayOrder.touched ||\r\n                                submitted) &&\r\n                              productFormsControl.displayOrder.errors?.required\r\n                          }\"\r\n                        />\r\n                        <div class=\"invalid-feedback col-md-3 offset-md-3\">\r\n                          <span\r\n                            class=\"text-danger\"\r\n                            *ngIf=\"\r\n                              (productFormsControl.displayOrder.touched ||\r\n                                submitted) &&\r\n                              productFormsControl.displayOrder.errors?.required\r\n                            \"\r\n                            >Required</span\r\n                          >\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"form-group row\">\r\n                        <label for=\"validationCustom6\" class=\"col-xl-3 col-md-4\"\r\n                          ><span>*</span> Category Name</label\r\n                        >\r\n                        <select\r\n                          formControlName=\"category\"\r\n                          [ngClass]=\"{\r\n                            'is-invalid ':\r\n                              (productFormsControl.category.touched ||\r\n                                submitted) &&\r\n                              productFormsControl.category.errors?.required\r\n                          }\"\r\n                        >\r\n                          <option\r\n                            *ngFor=\"let category of categories\"\r\n                            value=\"{{ category.id }}\"\r\n                          >\r\n                            {{ category.name }}\r\n                          </option>\r\n                        </select>\r\n                        <div class=\"invalid-feedback col-md-3 offset-md-0\">\r\n                          <span\r\n                            class=\"text-danger\"\r\n                            *ngIf=\"\r\n                              (productFormsControl.category.touched ||\r\n                                submitted) &&\r\n                              productFormsControl.category.errors?.required\r\n                            \"\r\n                            >Required</span\r\n                          >\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"form-group row\">\r\n                        <label\r\n                          for=\"validationCustom8\"\r\n                          class=\"col-xl-7 col-md-4\"\r\n                        >\r\n                          Display Home Page</label\r\n                        >\r\n                        <input\r\n                          class=\"form-check-input col-xl-10 col-md-6\"\r\n                          id=\"validationCustom8\"\r\n                          type=\"checkbox\"\r\n                          formControlName=\"hasDisplayHomePage\"\r\n                        />\r\n                      </div>\r\n                      <div class=\"form-group row\">\r\n                        <label\r\n                          for=\"validationCustom9\"\r\n                          class=\"col-xl-7 col-md-4\"\r\n                        >\r\n                          Is Featured</label\r\n                        >\r\n                        <input\r\n                          class=\"form-check-input col-xl-10 col-md-6\"\r\n                          id=\"validationCustom9\"\r\n                          type=\"checkbox\"\r\n                          formControlName=\"isFeatured\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-lg-6 col-md-6 col-sm-6\">\r\n                      <div class=\"form-group row\">\r\n                        <input\r\n                          class=\"form-control col-lg-6 col-md-6 col-sm-6\"\r\n                          id=\"validationCustom4\"\r\n                          type=\"text\"\r\n                          formControlName=\"imageUrl\"\r\n                          required\r\n                          [ngClass]=\"{\r\n                            'is-invalid ':\r\n                              (productFormsControl.imageUrl.touched ||\r\n                                submitted) &&\r\n                              productFormsControl.imageUrl.errors?.required\r\n                          }\"\r\n                          hidden\r\n                        />\r\n\r\n                        <app-upload-file\r\n                          styleFile=\"width: 350px; height: 300px;\"\r\n                          [data]=\"modalFile\"\r\n                          [fileURL]=\"fileURL\"\r\n                          sizeImage=\"650 x 700\"\r\n                          (onChange)=\"onChangeData($event)\"\r\n                        >\r\n                        </app-upload-file>\r\n                        <div class=\"invalid-feedback col-md-3 offset-md-3\">\r\n                          <span\r\n                            class=\"text-danger\"\r\n                            *ngIf=\"\r\n                              (productFormsControl.imageUrl.touched ||\r\n                                submitted) &&\r\n                              productFormsControl.imageUrl.errors?.required\r\n                            \"\r\n                            >Required</span\r\n                          >\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"form-group row\">\r\n                    <label for=\"validationCustom3\" class=\"col-xl-6 col-md-4\">\r\n                      Description</label\r\n                    >\r\n                    <ckeditor\r\n                      [editor]=\"editor\"\r\n                      class=\"col-xl-12 col-md-12 p-0\"\r\n                      id=\"validationCustom3\"\r\n                      type=\"text\"\r\n                      formControlName=\"contentHTML\"\r\n                      [config]=\"editorConfig\"\r\n                      (ready)=\"onReady($event)\"\r\n                    ></ckeditor>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- Container-fluid Ends-->\r\n\r\n<app-modal-footer [data]=\"modalFooter\" (onAction)=\"save()\"> </app-modal-footer>\r\n","import { CommonModule } from \"@angular/common\";\r\nimport { NgModule } from \"@angular/core\";\r\nimport { ReactiveFormsModule } from \"@angular/forms\";\r\nimport { CKEditorModule } from \"@ckeditor/ckeditor5-angular\";\r\nimport { NgbModalModule, NgbModule } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { Ng2SmartTableModule } from \"ng2-smart-table\";\r\nimport { SharedModule } from \"src/app/shared/shared.module\";\r\nimport { ListProductsComponent } from \"./list-products/list-products.component\";\r\nimport { ProductDetailsComponent } from \"./product-details/product-details.component\";\r\nimport { ProductRoutingModule } from \"./products-routing.module\";\r\n\r\n@NgModule({\r\n    declarations: [ListProductsComponent, ProductDetailsComponent],\r\n    imports: [\r\n      CommonModule,\r\n      ProductRoutingModule,\r\n      ReactiveFormsModule,\r\n      NgbModule,\r\n      SharedModule,\r\n      NgbModalModule,\r\n      Ng2SmartTableModule,\r\n      CKEditorModule\r\n    ]\r\n  })\r\n  export class ProductModule { }","import { NgModule } from \"@angular/core\";\r\nimport { RouterModule, Routes } from \"@angular/router\";\r\nimport { ListProductsComponent } from \"./list-products/list-products.component\";\r\nimport { ProductDetailsComponent } from \"./product-details/product-details.component\";\r\n\r\nconst routes: Routes = [\r\n    {\r\n      path: '',\r\n      children: [\r\n        {\r\n          path: 'list-products',\r\n          component: ListProductsComponent,\r\n          data: {\r\n            title: \"Product List\",\r\n            breadcrumb: \"Product List\"\r\n          }\r\n        }\r\n      ]\r\n    }\r\n];\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class ProductRoutingModule { }","import { Component, OnInit } from '@angular/core';\r\nimport { ModalDismissReasons, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport {\r\n  PageModel,\r\n  ReturnMessage,\r\n  TypeSweetAlertIcon,\r\n} from 'src/app/lib/data/models';\r\nimport { ProductModel } from 'src/app/lib/data/models/products/product.model';\r\nimport { ProductService } from 'src/app/lib/data/services/products/product.service';\r\nimport { ViewImageCellComponent } from 'src/app/shared/components/viewimagecell/viewimagecell.component';\r\nimport { CustomViewCellNumberComponent } from 'src/app/shared/components/custom-view-cell-number/custom-view-cell-number.component';\r\nimport { CustomViewCellComponent } from 'src/app/shared/components/customViewCell/customViewCell.component';\r\nimport { ProductDetailsComponent } from '../product-details/product-details.component';\r\nimport { MessageService } from 'src/app/lib/data/services/messages/message.service';\r\nimport { CustomViewCellStringComponent } from 'src/app/shared/components/custom-view-cell-string/custom-view-cell-string.component';\r\n@Component({\r\n  selector: 'app-list-products',\r\n  templateUrl: './list-products.component.html',\r\n  styleUrls: ['./list-products.component.scss'],\r\n  providers: [ProductService],\r\n})\r\nexport class ListProductsComponent implements OnInit {\r\n  public products: ProductModel[];\r\n  public data: PageModel<ProductModel>;\r\n  params: any = {};\r\n  closeResult = '';\r\n\r\n  constructor(\r\n    private modalService: NgbModal,\r\n    private productService: ProductService,\r\n    private messageService: MessageService\r\n  ) {\r\n    this.params.pageIndex = 0;\r\n    this.fetch();\r\n  }\r\n\r\n  public settings = {\r\n    mode: 'external',\r\n    actions: {\r\n      position: 'right',\r\n    },\r\n    columns: {\r\n      imageUrl: {\r\n        title: 'Image',\r\n        type: 'custom',\r\n        renderComponent: ViewImageCellComponent,\r\n        filter: false,\r\n      },\r\n      name: {\r\n        title: 'Name',\r\n        type: 'custom',\r\n        renderComponent: CustomViewCellStringComponent,\r\n      },\r\n      description: {\r\n        title: 'Product Details',\r\n        filter: false,\r\n      },\r\n      categoryName: {\r\n        title: 'Category Name',\r\n        filter: false,\r\n      },\r\n      isFeatured: {\r\n        title: 'Is Featured',\r\n        filter: false,\r\n      },\r\n      price: {\r\n        type: 'custom',\r\n        title: 'Price',\r\n        renderComponent: CustomViewCellNumberComponent,\r\n        filter: false,\r\n      },\r\n      displayOrder: {\r\n        title: 'Display Order',\r\n        type: 'custom',\r\n        renderComponent: CustomViewCellComponent,\r\n        filter: false,\r\n      },\r\n    },\r\n  };\r\n\r\n  delete(event: any) {\r\n    let product = event.data as ProductModel;\r\n    this.messageService\r\n      .confirm('Are you sure to delete this item?', 'Yes')\r\n      .then((res) => {\r\n        if (res.isConfirmed) {\r\n          this.productService\r\n            .delete(product)\r\n            .then(() => {\r\n              this.messageService.notification(\r\n                'Delete successful',\r\n                TypeSweetAlertIcon.SUCCESS\r\n              );\r\n              this.fetch();\r\n            })\r\n            .catch((er) =>\r\n              this.messageService.alert(\r\n                er.error.message ??\r\n                  JSON.stringify(er.error.error) ??\r\n                  'Server Disconnected',\r\n                TypeSweetAlertIcon.ERROR\r\n              )\r\n            );\r\n        }\r\n      });\r\n  }\r\n\r\n  openPopup(item: any) {\r\n    var modalRef = this.modalService.open(ProductDetailsComponent, {\r\n      size: 'xl',\r\n    });\r\n    modalRef.componentInstance.item = item?.data;\r\n    return modalRef.result.then(\r\n      () => {\r\n        this.fetch();\r\n      },\r\n      (reason) => {\r\n        this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n      }\r\n    );\r\n  }\r\n\r\n  fetch() {\r\n    this.productService\r\n      .get({ params: this.params })\r\n      .then((res: ReturnMessage<PageModel<ProductModel>>) => {\r\n        if (!res.hasError) {\r\n          this.products = res.data.results;\r\n          this.data = res.data;\r\n        }\r\n      })\r\n      .catch((er) => {\r\n        this.messageService.alert(\r\n          er.error.message ??\r\n            JSON.stringify(er.error.error) ??\r\n            'Server Disconnected',\r\n          TypeSweetAlertIcon.ERROR\r\n        );\r\n        // if (er.error.hasError) {\r\n        //   // console.log(er.error.message);\r\n        // }\r\n      });\r\n  }\r\n\r\n  private getDismissReason(reason: any): string {\r\n    if (reason === ModalDismissReasons.ESC) {\r\n      return 'by pressing ESC';\r\n    } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\r\n      return 'by clicking on a backdrop';\r\n    } else {\r\n      return `with: ${reason}`;\r\n    }\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  onPage(event) {\r\n    this.params.pageIndex = event;\r\n    this.fetch();\r\n  }\r\n}\r\n","<div class=\"container-fluid\">\r\n  <div class=\"card\">\r\n    <div class=\"card-header\">\r\n      <h5>Product Details</h5>\r\n    </div>\r\n    <div class=\"card-body vendor-table\">\r\n      <div id=\"batchDelete\" class=\"custom-datatable media-datatable\">\r\n        <div class=\"table-responsive\">\r\n          <ng2-smart-table\r\n            [settings]=\"settings\"\r\n            (edit)=\"openPopup($event)\"\r\n            (create)=\"openPopup(null)\"\r\n            (delete)=\"delete($event)\"\r\n            [(source)]=\"products\"\r\n          ></ng2-smart-table>\r\n        </div>\r\n      </div>\r\n\r\n      <app-paging-server-view *ngIf=\"data?.totalPage > 1\"\r\n        [data]=\"data\"\r\n        (page)=\"onPage($event)\"\r\n      ></app-paging-server-view>\r\n    </div>\r\n  </div>\r\n</div>\r\n"]}